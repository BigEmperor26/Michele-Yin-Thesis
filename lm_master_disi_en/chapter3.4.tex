
\subsection{Eliciting Continuations of Personal Narratives}
\label{cha:methodology-personal-narrative-elicitation}
In this section, we apply different prompts to the selection of LLMs that passed our previous tests in order to perform the task of eliciting continuations for personal narratives.  As previously mentioned, this task requires the model to ask questions to the narrator of a personal narrative in order to gain more information about the events described in the narrative. The two main caveats of this task are that the corpus is in Italian, therefore requiring the model to understand Italian, and that the model has to be able to formulate questions related to topics mentioned in the narrative. 

Although the Italian language test worked well to filter out models that were unable to answer in Italian, the story cloze test did not highlight enough significant differences between the different answers of the models.
% Finally, a third set of experiments was devised. This last set was done to evaluate the capabilities of the model to perform the task of personal narrative elicitation.
% As discussed in the previous section, unfortunately, the previous test could not differentiate good and accurate models from subpar-performing ones. 
Therefore, the same set of models tested for the story cloze test was used for this experiment as well:
\begin{itemize}
    \item   tiiuae/falcon- \cite{falcon40b}
    \item   tiiuae/falcon-40b-instruct \cite{falcon40b}
    \item   ChatGPT-3.5-turbo \cite{chatgpt}
    \item   ChatGPT-4 \cite{openai2023gpt4}
    \item   mosaicml/mpt-7b \cite{mpt7b}
    \item   mosaicml/mpt-30b-chat \cite{mpt30b}
    \item   lmsys/vicuna-13b-v1.3 \cite{touvronllama}
    \item   lmsys/vicuna-33b-v1.3 \cite{touvronllama}
    \item   TheBloke/Wizard-Vicuna-13B-Uncensored-HF \cite{wizard-vicuna}
\end{itemize}
As a continuation of the initial results obtained in the previous tests, a decision was made to structure the experiments with a deeper focus on the effect of the number of examples given to each model. In this case, tests for 0-shot, 1-shot, 3-shot and 5-shot prompts were designed with 0,1,3, and 5 examples, respectively. These 5 examples are taken from the examples in the guidelines that the users read and are not included in the narratives. Similarly, it was deemed interesting to investigate if guidelines designed for human crowdworkers would be similarly effective for LLMs, with the expectation that LLMs should, at least in theory, understand the content provided in guidelines and adapt their responses accordingly. In order to explore this possibility, we devised prompts with and without the presence of said guidelines, allowing a comparison between the two scenarios.

As mentioned previously, the correct elicitating questions for personal narratives should convey empathy when required, in particular for events with sorrowful content. Our corpus contains information on the valence of particular functional units of the narratives, and this information was conveyed to the human crowdworkers through the use of colour by highlighting those particular sections of text. The guidelines the crowdworkers were provided with emphasised the importance of empathy and suggested the use of the highlighted functional units as guidance for topics to formulate questions on. 


\input{assets/table/personal-narrative-elicitation-color-example}
However, LLMs are text-based, and they do not have access to vision, at least at the time of doing this experiment \cite{chatgpt-see}. Therefore the models cannot use colour information as human crowdworkers. Therefore, a decision was made to investigate if the colour information could be conveyed to the models in some other way. In particular, we found that colour information could be conveyed to the models by formatting the functional units that would be highlighted in colour in the guidelines with parenthesis. This formatting is shown in Table \ref{tab:personal-narrative-elicitation-color-example}. We expected that this formatting would be enough to convey the colour information to the models and that the models would use this information to formulate questions that convey empathy when required because the models would be able to understand the valence of the functional units. 
% Lastly, as the guidelines require colour information because the valence information is highlighted in either green or red, for positive and negative emotions, respectively, a decision to add a third direction of the investigation was made. This third direction consists on replacing the coloured highlighted text with parenthesis encapsulated text with a specific format.

% An example of colour information and how it is conveyed to the models is given in Table \ref{tab:personal-narrative-elicitation-color-example}. 
% \input{assets/table/personal-narrative-elicitation-experimental-setup}
To recap, this study consists of three orthogonal directions, considering the number of shots, the presence or absence of guidelines and the presence or lack thereof of colour information. 
% In the Table \ref{tab:personal-narrative-elicitation-experimental-setup} is presented a brief recap of all the experiments for this section. 
Finally, in order to minimise the computational cost and, at the same time, reduce the complexity of the human evaluation, this set of experiments was run only on the test set of the previously defined narrative elicitation dataset. 
% In future works, we plan on testing the train set as well.
\subsubsection{Prompts and Experimental Details}
% \input{assets/table/personal-narrative-elicitation-prompts}
The exact prompts used during the experiments are reported here for completeness:
\begin{itemize}
    \item \textbf{Without guidelines}: \\ \emph{Sei una AI che deve fare una domanda su un racconto in maniera tale da ottenere più informazioni su eventi accaduti nel racconto. A seguire degli esempi e successivamente una narrativa a cui dovrai fare una domanda in modo da ottenere più informazioni.\\
       NARRATIVA: `` \highLight[highlightgreen]{Oggi è stata una bella giornata. Mia moglie mi ha detto che sta aspettando un bambino!} Sono super felice! Mi chiedo se sarò un bravo padre. \highLight[highlightred]{Mio padre non è stato molto presente quando ero un bambino.}"\\
       DOMANDA: ``Sono felice di sentirlo. Sapete già se si tratta di un maschio o di una femmina ?"\\
       NARRATIVA: ``\highLight[highlightred]{Oggi ho litigato con Chiara, lei era arrabbiata con me perché secondo lei non io so fare le cose.}"\\
       DOMANDA: ``Oh, mi spiace che tu abbia litigato. Secondo lei che cosa è che non sai fare ?"\\
       NARRATIVA: ``\highLight[highlightgreen]{Oggi è una bella giornata. Ho pattinato sul ghiaccio e poi sono andato al cinema.}"\\
       DOMANDA: ``Bello sentire che è stata una buona giornata per te. Dove sei stato a pattinare ?"\\
       NARRATIVA: ``Pensavo sempre a mio figlio che doveva uscire nel pomeriggio, questo è il motivo che mi ha scatenato l’ansia."\\
       DOMANDA: ``Capisco, dove doveva andare tuo figlio?"\\
       NARRATIVA: ``Mia figlia si è lasciata con il suo fidanzato ed ora ho sensi di colpa e momenti di tristezza, mi dispiace tanto e mi sento incapace di supportarla in questo. Insomma giornate un po’ grigie. Non so se il sonno disturbato e qualche episodio di insonnia siano causati da questa confusione."\\
       DOMANDA: ``Mi dispiace tanto, da quanto erano insieme?"\\
       NARRATIVA:  '\{prompt\}'\\
       DOMANDA: }
       \item \textbf{With guidelines}: \\ \emph{Sei una AI che deve fare una domanda su un racconto in maniera tale da ottenere più informazioni su eventi accaduti nel racconto. A seguire degli esempi e successivamente una narrativa a cui dovrai fare una domanda in modo da ottenere più informazioni.\\
       \\
       Istruzioni\\
       Di seguito ti verrà presentato un insieme di racconti personali e il tuo obiettivo è quello di proporre domande riguardanti alcuni aspetti degli eventi descritti nella narrativa. Queste domande hanno come obiettivo quello di approfondire il racconto e/o chiarire alcune sue parti.\\
       Nello specifico, le tue domande potranno avere uno o più dei seguenti obiettivi:\\
       Approfondire alcuni aspetti della narrativa per ottenere più informazioni riguardanti eventi, persone o altre entità menzionate nel racconto. Per esempio, se il narratore racconta di un generico problema a casa, una possibilità è approfondire il relativo problema. Vedi esempio 2 nella tabella 1.\\
       Parti del testo della narrativa potrebbero essere evidenziate di verde o rosso per sottolineare emozioni positive ( verde ) o negative ( rosso ). Usa queste indicazioni per concentrare le tue domande su eventi emotivamente carichi ed evidenziati dalle parti di testo colorate ( verde o rosso ).\\
       Usa segnali di feedback per cominciare la tua domanda. ( ad esempio "sì, capisco", "oh", "che bello" ) per dimostrare che si è capito la parte precedente e che si è attivamente interessati alla narrazione. Vedi esempio 4 nella tabella 1.\\
       È molto importante mantenere la narrazione centrata sul narratore riferendosi ad eventi accaduti.\\
       Mostrare empatia con le tue domande. Se il narratore esprime una emozione negativa, il tuo obiettivo è quello di essere comprensivo. Invece se il narratore mostra una emozione positiva cerca di mostrare interesse nell'evento positivo. Vedi esempio 5 nella tabella 1.\\
       Cerca di mantenere le domande sintetiche e puntuali. Troppe domande o una domanda troppo lunga può confondere il narratore e quindi avere un effetto negativo sulla narrazione. Vedi esempio 4 nella tabella 1.\\
       Le tue domande devono suonare naturali e coerenti con il contesto, ovvero la narrativa.\\
       Non da ultimo, verifica la correttezza grammaticale e sintattica delle tue domande.\\
       Domande da evitare:\\
       Richiesta di opinioni personali (ad esempio "cosa pensi ...", "come speri di fare per ..." e simili). Vedi esempio 3 nella tabella 1.\\
       Suggerimenti (ad esempio, "forse potresti ...", "dovresti ...", "perché non ..."). Vedi esempio 6 nella tabella 1.\\
       Esprimere eventi ipotetici (ad esempio, previsioni future, illazioni e immedesimazioni in altri ruoli). Vedi esempio 7 nella tabella 1.\\
       Evita domande generiche. Per evitare questo problema ti è consigliato di riportare testualmente un esempio della narrativa Vedi esempio 2 , tabella 1\\
       Evita di spostare il fulcro della conversazione su di te ( osservatore ) o fare domande che divagano in altri argomenti. Vedi esempio 4 nella tabella 1.\\
       A seguire la tabella 1 che riporta una serie di esempi\\
       Tabella 1, contenente un esempio corretto e molteplici esempi errati di domande per una narrativa. Ciascun esempio è numerato.\\
       NARRATIVA:\\
       \highLight[highlightgreen]{Oggi è stata una bella giornata. Mia moglie mi ha detto che sta aspettando un bambino!} Sono super felice! Mi chiedo se sarò un bravo padre. \highLight[highlightred]{Mio padre non è stato molto presente quando ero un bambino.}\\
       \\
       Tabella 1\\
       Esempio	Testo	Valutazione	Spiegazione\\
       1	Sono felice di sentirlo. Sapete già se si tratta di un maschio o di una femmina ?	CORRETTO	Segue tutte le linee guida\\
       2	Oh capisco. Cosa mi racconti? 	ERRATO	Non esplora la narrativa, troppo generica\\
       3	Sono felice di sentirlo. Cosa ne pensi di essere un genitore?	ERRATO	È una opinione personale\\
       4	Sapete già se si tratta di una femmina o maschio? Di quanti mesi è incinta? Sai che io ho una figlia, si chiama Chiara.	ERRATO	 Non inizia con un feedback. Sposta la conversazione dal narratore. Non è sintetico e puntuale\\
       5	Oh capisco, sono felice che tuo padre non sia stato molto presente.	ERRATO	Non mostra empatia\\
       6	Oh, capisco. Per evitare questo problema ti consiglio di spendere molto tempo assieme alla tua famiglia	ERRATO	Mostra un suggerimento\\
       7	Oh capisco, come ti immagini sarà la tua vita da genitore?	ERRATO	Si tratta di una domanda ipotetica\\
      NARRATIVA: ``\highLight[highlightgreen]{Oggi è stata una bella giornata. Mia moglie mi ha detto che sta aspettando un bambino!} Sono super felice! Mi chiedo se sarò un bravo padre. \highLight[highlightred]{Mio padre non è stato molto presente quando ero un bambino.}"\\
       DOMANDA: ``Sono felice di sentirlo. Sapete già se si tratta di un maschio o di una femmina ?"\\
       NARRATIVA: ``\highLight[highlightred]{Oggi ho litigato con Chiara, lei era arrabbiata con me perché secondo lei non io so fare le cose.}"\\
       DOMANDA: ``Oh, mi spiace che tu abbia litigato. Secondo lei che cosa è che non sai fare ?"\\
       NARRATIVA: ``\highLight[highlightgreen]{Oggi è una bella giornata. Ho pattinato sul ghiaccio e poi sono andato al cinema.}"\\
       DOMANDA: ``Bello sentire che è stata una buona giornata per te. Dove sei stato a pattinare ?"\\
       \\
       NARRATIVA: ``Pensavo sempre a mio figlio che doveva uscire nel pomeriggio, questo è il motivo che mi ha scatenato l’ansia."\\
       DOMANDA: ``Capisco, dove doveva andare tuo figlio?"\\
       NARRATIVA: ``Mia figlia si è lasciata con il suo fidanzato ed ora ho sensi di colpa e momenti di tristezza, mi dispiace tanto e mi sento incapace di supportarla in questo. Insomma giornate un po’ grigie. Non so se il sonno disturbato e qualche episodio di insonnia siano causati da questa confusione."\\
       DOMANDA: ``Mi dispiace tanto, da quanto erano insieme?"\\
       Completa questo task\\
       NARRATIVA:  '\{prompt\}'\\
       DOMANDA:}
\end{itemize}
On this page, two versions are provided, with and without guidelines, both of which contain 5 examples. The 0, 1, 3, and 5 shot experiments all use the same base prompts, with the difference that 0, 1, 3, or 5 examples are shown respectively. In the prompts that are reported here, for clarity purposes, the narratives all have highlighted sections representing the valence value when present. However, as previously mentioned, the colour information is either omitted or induced with special text formatting shown in Table \ref{tab:personal-narrative-elicitation-color-example}. The text \emph{``prompt"} is replaced with the correct narrative at every inference step.
It is also possible to notice that all prompts used in this set of experiments use impersonation. We found that impersonation was very effective \cite{impersonation}. This marks a difference compared to the previous set of story cloze experiments, in which impersonation was not applied.

The prompts were found to be extremely long, ranging from $\sim$ 40  to $\sim$ 900 words. Adding the lengths of the narratives the range increases to  $\sim$ 50 to $\sim$ 1100 words. Although this number is significantly lower than the maximum context window of many open-source models, which have 2048 tokens as context, many tokenisers split each word in more than one token. Additionally, often used special characters are tokenised individually. This fact meant that many models tokenise the longest prompts at $\sim$1700 tokens, which, combined with the text of the longest narrative, is in the range $\sim$1900 tokens. This high value is indeed very close to the maximum context window of 2048. This fact created a few issues with some models, which were unable to process the prompts due to their extreme length. 
Finally, to satisfy the heavy GPU memory requirements of some of the models we tested, the models were run on a pair of A100s 80GB from Nvidia. 
